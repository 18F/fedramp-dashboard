<grid class="grid" raw-items="controller.agencies" on-update="controller.onUpdate(items, state)" state="controller.savedState">
    <div class="sidebar hidden-print" ng-show="!controller.hideFilters">
        <grid-filter-clear class="clear-filters"><i class="fa fa-times" aria-hidden="true"></i> Clear All</grid-filter-clear>
        <grid-search id="searchName" property="name" placeholder="Search by Agency Name"></grid-search>
        <grid-total></grid-total>
        <grid-filter id="productsUsed" header="Products Used" expanded="true" opened="true" options-func="controller.reuseRangeOptions" filter-func="controller.reuseRangeFilter" class="grid-filter"></grid-filter>
        <grid-filter id="assessors" property="a in assessors" header="Assessors" opened="false" expanded="true" class="grid-filter"></grid-filter>
        <grid-filter id="products" property="p in products" header="Products" expanded="true" opened="false" class="grid-filter"></grid-filter>
        <grid-filter id="providers" property="p in providers" header="Providers" expanded="true" opened="false" class="grid-filter"></grid-filter>
    </div>
    <div class="grid full-width-print" ng-class="{'grid-with-sidebar': !controller.hideFilters}">
        <div class="fr-grid-layout fr-grid-header" ng-show="!controller.hideFilters">
            <div class="fr-grid-layout-row">
                <div class="fr-grid-cell-name">
                    <grid-sort name="name" property="name" header="Name" class="grid-sort" default="true"></grid-sort>          
                </div>
                <div class="fr-grid-cell-contact">
                    <grid-sort name="contactInformation" header="Contact Information" property="type" class="grid-sort"></grid-sort>    
                </div>
                <div class="fr-grid-cell-metric">
                    <grid-sort name="products" property="products.length" class="grid-sort"></grid-sort>    
                </div>
            </div>
        </div>
        <tile ng-repeat="item in controller.filteredData" expand="controller.expandTiles" model="item"></tile>
        <div class="export hidden-print">
            <download-csv content="controller.filteredData" ng-if="controller.filteredData">
                <button class="usa-button-secondary">
                    <span>Export to CSV</span>
                    <i class="fa fa-download" aria-hidden="true"></i>
                </button>
            </download-csv>
        </div>
    </div>
    <div class="clear"></div>
</grid>
